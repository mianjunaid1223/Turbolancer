<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <title>catalogue Details</title>
    <link rel="icon" type="image/png" href="/static/icon.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="      crossorigin="anonymous"      referrerpolicy="no-referrer"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />

  
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@2.51.3/dist/full.css"      rel="stylesheet"      type="text/css"    />
    <script src="/static/tailwind.js"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css"      rel="stylesheet"    />
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="stylesheet" href="/static/toast.css" />
    <script src="/static/toast.js"></script>
  <style>
  .profile-header {
display: flex;
align-items: center;
margin-bottom: 10px;
}
    
.profile-initials img{
width: 90px;
height: 90px;
background-color: #909090;
color: #fff;
border-radius: 50%;
display: flex;
justify-content: center;
align-items: center;
font-weight: bold;
margin-right: 15px;
}

.profile-info {
flex-grow: 1;
}

.profile-name {
font-size: 20px;
margin: 0;
}
td svg{
    max-width: 20px;
}
.bg-error{
  background-color: #f10000;
  border: none;
}

  </style>
</head>

<body class="bg-white-100">

    <div class="max-w-5xl mx-auto my-10 p-6 bg-white rounded-lg shadow-lg">
        <!-- Seller Info -->
        <div class="flex items-center space-x-4">
            <div class="profile-header">
                <div class="profile-initials" >
                    <img onclick="openit(this)" src="{{seller_image}}"  alt="{{ name.upper() }}">
                </div>
                <div class="profile-info">
                    <h2 class="profile-name">{{ name.upper() }}</h2>
                 
                    <p class="profile-details">
                        <a href="/account/{{S_id}}/d" id="anchor" target="_blank"><tag style="color: #00b800; text-decoration: underline; text-transform: lowercase;">{{ Stag }}</tag></a> , <i
                            class="fas ico fa-globe"></i> {{ country }}
                    </p>
                </div>
            </div>
        </div>

        <!-- Gig Title and Description -->
        <div class="mt-6">
            <h1 class="text-3xl font-bold">{{title}}</h1>
        </div>


        <!-- Images Carousel -->
        <div class="carousel mt-6 rounded-lg shadow-lg">
            

<div id="default-carousel" class="relative w-full" data-carousel="static">
    <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
        {% for img in images %}
        <div class="hidden duration-1000 ease-in-out" data-carousel-item>
            <img src="{{img}}" onclick="openit(this)" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
        </div>
        {% endfor %}
    </div>
    <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
        {% for img in images %}
        {% if loop.index0 == 1 %}
        <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide loop.index0" data-carousel-slide-to="{{loop.index0}}"></button>
        {% else %}
        <button type="button" class="w-3 h-3 rounded-full" aria-current="flase" aria-label="Slide loop.index0" data-carousel-slide-to="{{loop.index0}}"></button>
        {% endif %}
        {% endfor %}

    </div>
    <!-- Slider controls -->
    <button type="button" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 light:bg-gray-800/30 group-hover:bg-white/50 light:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white light:group-focus:ring-gray-800/70 group-focus:outline-none">
            <svg class="w-4 h-4 text-white light:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
            </svg>
            <span class="sr-only">Previous</span>
        </span>
    </button>
    <button type="button" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 light:bg-gray-800/30 group-hover:bg-white/50 light:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white light:group-focus:ring-gray-800/70 group-focus:outline-none">
            <svg class="w-4 h-4 text-white light:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
            </svg>
            <span class="sr-only">Next</span>
        </span>
    </button>
</div>

        </div>
        <div class="mt-6">
            <h1 class="text-2xl font-bold">Description:</h1>

            <p class="mt-4 text-gray-700 text-wrap" style="line-break: anywhere; word-break: break-all;
            text-wrap: balance;">{{description}}</p>
        </div>
       <!-- Packages -->
<div class="mt-10">
    <div class="overflow-x-auto">
      <table class="table w-full">
        <thead>
          <tr>
            <th></th>
            <th>Essential</th>
            <th>Standard</th>
            <th>Premium</th>
          </tr>
        </thead>
        <tbody>
          {% for feature in data['Basic'] %}
          <tr>
            <td class="font-bold">{{ feature[0] }}</td>
            <td>{{ data['Basic'][loop.index0][1] }}</td>
            <td>{{ data['Standard'][loop.index0][1] }}</td>
            <td>{{ data['Premium'][loop.index0][1] }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

        <!-- Statistics -->
        <div class="mt-10 flex space-x-8">
            <div>
                <h3 class="text-2xl font-bold">{{likes}}</h3>
                <p class="text-gray-600">Likes</p>
            </div>
            <div>
                <h3 class="text-2xl font-bold">{{orders}}</h3>
                <p class="text-gray-600">Orders</p>
            </div>
         
        </div>
        

        <!-- Contact Seller Button -->
        <div class="mt-10">
          {% if x == 6 %}
          <button class="btn bg-error" onclick="modal('d','Are you sure you want to delete this catalogue?','Yes, I\'m sure','dellit', 'danger'),dellit()">Delete catalogue</button>
{% else %}
            <button class="btn btn-primary">Contact Seller</button>
            {% endif %}
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@lottiefiles/lottie-player@1.0.0/lottie-player.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
<script>

    // SVG icons
const tickIcon = '<svg  style="fill:green;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>';
const crossIcon = '<svg style="fill:red;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>';

// Function to replace "Yes" or "No" with icons
function replaceWithIcon(value) {
  if (value === 'Yes') {
    return tickIcon;
  } else if (value === 'No') {
    return crossIcon;
  } else {
    return value;
  }
}

window.addEventListener('DOMContentLoaded', function () {
  const tableBody = document.querySelector('table tbody');
  const tableRows = tableBody.querySelectorAll('tr');

  tableRows.forEach(function (row, rowIndex) {
    const cells = row.querySelectorAll('td');

    cells.forEach(function (cell, cellIndex) {
      const cellValue = cell.textContent.trim();

      if (rowIndex > 0 && cellIndex > 0) {
        if (cellValue === 'Yes' || cellValue === 'No') {
          cell.innerHTML = replaceWithIcon(cellValue);
        }
      }
    });
  });
});
function dellit(){
  document.querySelector('#dellit').addEventListener('click', () => {
  const element = document.querySelector('#dellit').getAttribute('data-given')
  const pId  ='{{_id}}'
  console.log(pId)
  form = new FormData()
  form.append('id',pId)
  fetch('/dell_catalogue', {
        method: 'POST',
        body: form,
    })
    .then(response => response.json())
    .then(data => {
        toast('s', 'Successfully Deleted');
        setTimeout(() => {
          window.location.reload()
        }, 1000);
    })
    .catch(error => {
        toast('d', 'An error occurred');
    });
})}
const anchor = document.querySelectorAll('#anchor');
    anchor.forEach(element => {
      element.href += `?referrer=${encodeURIComponent(btoa(window.location.href))}`;
      console.log('{{ year }}')

    });
</script>
</body>

</html>
